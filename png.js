var b=document.createElement("canvas");document.getElementById("body").appendChild(b);var c=.99*window.innerWidth,d=.97*window.innerHeight;b.width=c;b.height=d;b.style="border:1px solid #000000";var e=b.getContext("2d"),f=0,h=0;window.addEventListener("load",function(){e.font="30px Courier New";e.textAlign="center";e.fillText("PONG",c/2,d/2-35);e.fillText("Controls: UP to go up, DOWN to go down",c/2,d/2)});var k={};window.addEventListener("keydown",function(a){k[a.keyCode]=!0});
window.addEventListener("keyup",function(a){delete k[a.keyCode]});
function l(){this.height=75;this.width=10;this.top=b.height/2-this.height/2+.5;this.left=10;this.bottom=this.top+this.height;this.right=this.left+this.width;this.f=(this.top+this.bottom)/2;this.a=this.b=0;this.h=6;this.g=4;this.j=function(){this.bottom=this.top+this.height;this.right=this.left+this.width;this.f=(this.top+this.bottom)/2};this.v=function(){for(var a in k){var g=Number(a);38==g?(this.a=-5,0<this.top+this.a&&this.bottom+this.a<b.height&&(this.top+=this.a)):40==g?(this.a=5,0<this.top+
this.a&&this.bottom+this.a<b.height&&(this.top+=this.a)):this.a=0;this.j()}e.fillRect(this.left,this.top,this.width,this.height)};this.u=function(){var a=m;this.f>a.y?(a=a.y-this.f,this.a=a/this.g>-this.h?a/this.g:-this.h):this.f<a.y?(a=a.y-this.f,this.a=a/this.g<this.h?a/this.g:this.h):0>this.a?this.a+=.1:0<this.a&&(this.a-=.1);this.j();0<this.top+this.a&&this.bottom+this.a<b.height&&(this.top+=this.a);e.fillRect(this.left,this.top,this.width,this.height)}}
var m=new function(){this.x=c/2;this.y=Math.ceil(d/2);this.b=-5;this.a=0;this.c=12;this.top=function(){return this.y-this.c};this.bottom=function(){return this.y+this.c};this.left=function(){return this.x-this.c};this.right=function(){return this.x+this.c};this.i=!1;this.m=function(){e.beginPath();e.arc(this.x,this.y,this.c,0,2*Math.PI);e.fill()};this.o=function(){e.clearRect(this.x-(this.c+1),this.y-(this.c+1),2*this.c+2,2*this.c+2)};this.update=function(a,g){this.o();a&&this.l(a);g&&this.l(g);this.x+=
this.b;this.y+=this.a;this.s();this.i&&(this.x=c/2,this.y=Math.ceil(d/2),this.b=-5,this.a=0,this.i=!1);this.m()};this.l=function(a){this.left()<=a.right&&this.bottom()>=a.top&&this.top()<=a.bottom&&this.right()>=a.left?(this.b=-this.b,0>this.b&&-10<this.b?this.b-=.25:0<this.b&&10>this.b&&(this.b+=.25),this.a+=5*((m.y-a.top)/a.height-.5),this.a+=a.a/4):this.right()>=a.left&&this.bottom()>=a.top&&this.top()<=a.bottom&&this.left()<=a.right&&(this.b=-this.b,this.b=0>this.b?this.b-.5:this.b+.5,this.a+=
5*((m.y-a.top)/a.height-.5),this.a+=a.a/4)};this.s=function(){if(0>=this.right()||this.left()>=b.width)this.i=!0,0>=this.left()?h++:f++;if(0>=this.top()||this.bottom()>=b.height)this.a=-this.a}},n=new l,p=new l;p.left=b.width-p.left-p.width;p.j();function q(){e.clearRect(0,0,b.width,b.height);m.m();e.fillText(f,n.right,30);e.fillText(h,p.left,30);m.update(n,p);n.v();p.u();window.requestAnimationFrame(q)}q();
